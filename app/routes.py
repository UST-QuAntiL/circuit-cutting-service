# ******************************************************************************
#  Copyright (c) 2020 University of Stuttgart
#
#  See the NOTICE file(s) distributed with this work for additional
#  information regarding copyright ownership.
#
#  Licensed under the Apache License, Version 2.0 (the "License");
#  you may not use this file except in compliance with the License.
#  You may obtain a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
#  Unless required by applicable law or agreed to in writing, software
#  distributed under the License is distributed on an "AS IS" BASIS,
#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#  See the License for the specific language governing permissions and
#  limitations under the License.
# ******************************************************************************
import threading

from app import circuit_cutter
from flask import abort, request
from flask_smorest import Blueprint
from app.model.cutting_request import (
    CutCircuitsRequestSchema,
    CutCircuitsRequest,
    CombineResultsRequestSchema,
    CombineResultsRequest,
    CombineResultsRequestQuokkaSchema,
)
from app.model.cutting_response import (
    CombineResultsResponse,
    CombineResultsResponseSchema,
    CutCircuitsResponseSchema,
    CutCircuitsResponse,
    CombineResultsResponseQuokkaSchema,
)

blp = Blueprint(
    "cutting",
    __name__,
    description="compute objective value from counts",
)


@blp.route("/cutCircuits", methods=["POST"])
@blp.arguments(
    CutCircuitsRequestSchema,
    example={
        "circuit": 'OPENQASM 2.0;\ninclude "qelib1.inc";\nqreg q[4];\ncreg meas[4];\nh q[0];\ncx q[0],q[1];\ncx q[1],q[2];\ncx q[2],q[3];\nbarrier q[0],q[1],q[2],q[3];\nmeasure q[0] -> meas[0];\nmeasure q[1] -> meas[1];\nmeasure q[2] -> meas[2];\nmeasure q[3] -> meas[3];\n',
        "method": "automatic",
        "max_subcircuit_width": 3,
        "max_num_subcircuits": 2,
        "max_cuts": 2,
        "circuit_format": "openqasm2",
    },
)
@blp.response(200, CutCircuitsResponseSchema)
def cut_circuit(json: dict):
    """Execute a given quantum circuit on a specified quantum computer."""
    print("request", json)
    result = circuit_cutter.cut_circuit(CutCircuitsRequest(**json))
    print("result", result)
    return result


@blp.route("/combineResults", methods=["POST"])
@blp.arguments(
    CombineResultsRequestSchema,
    example={
        "circuit": 'OPENQASM 2.0;\ninclude "qelib1.inc";\nqreg q[8];\nry(0.0) q[0];\nry(pi/16) q[1];\ncx q[0],q[1];\nry(pi/2) q[0];\nry(pi/8) q[2];\ncx q[1],q[2];\nry(9*pi/16) q[1];\ncx q[0],q[1];\nry(pi) q[0];\nry(3*pi/16) q[3];\ncx q[2],q[3];\nry(5*pi/8) q[2];\ncx q[1],q[2];\nry(3.33794219443916) q[1];\nry(pi/4) q[4];\ncx q[3],q[4];\nry(11*pi/16) q[3];\ncx q[2],q[3];\nry(9*pi/8) q[2];\nry(5*pi/16) q[5];\ncx q[4],q[5];\nry(3*pi/4) q[4];\ncx q[3],q[4];\nry(3.73064127613788) q[3];\nry(3*pi/8) q[6];\ncx q[5],q[6];\nry(13*pi/16) q[5];\ncx q[4],q[5];\nry(5*pi/4) q[4];\nry(7*pi/16) q[7];\ncx q[6],q[7];\nry(7*pi/8) q[6];\ncx q[5],q[6];\nry(4.1233403578366) q[5];\nry(15*pi/16) q[7];\ncx q[6],q[7];\nry(11*pi/8) q[6];\nry(4.51603943953533) q[7];\n',
        "subcircuit_results": {
            "0": {
                "0": [
                    0.09604116132091502,
                    0.1252813880264459,
                    0.25038509503888107,
                    0.12655310667928063,
                    0.12649605071717127,
                    0.22699656310887625,
                    0.027077692923032845,
                    0.02116894218539732,
                ],
                "12": [
                    0.0709532840090998,
                    0.08927152461869714,
                    0.11849410479433922,
                    0.07267864226663924,
                    0.06134823297383055,
                    0.09499684313314224,
                    0.015577667434959828,
                    0.009426279193750723,
                ],
                "3": [
                    0.04640521138504562,
                    0.009713909676816264,
                    0.19385045389949504,
                    0.09427581122299465,
                    -0.11007091069664102,
                    -0.19021962415098723,
                    -0.023681588737033146,
                    -0.02027326259969011,
                ],
                "15": [
                    0.02523799764031149,
                    0.026752748888714067,
                    0.08560885892300032,
                    0.04387226726076178,
                    -0.05553049159335697,
                    -0.10110433012718753,
                    -0.015094524556118878,
                    -0.00974252643612428,
                ],
                "1": [
                    0.0821561253292946,
                    0.12157739088920003,
                    0.08270978488811195,
                    0.062265758030218395,
                    0.026517385429847593,
                    0.01988618912514234,
                    0.012711373495239927,
                    0.0003653310979333168,
                ],
                "13": [
                    0.06868947577205763,
                    0.08985376844541507,
                    0.15806886147899316,
                    0.08129049644619205,
                    0.062148563360947,
                    0.11726375555973712,
                    0.0050619999928419625,
                    0.005560880153495535,
                ],
                "2": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
                "14": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
                "4": [
                    0.06219890723427189,
                    0.08310244827252705,
                    0.17429301225885727,
                    0.08650299511062787,
                    0.09515866446420748,
                    0.16599567983776242,
                    0.021902806635937213,
                    0.01795226737235642,
                ],
                "7": [
                    0.0428639617144156,
                    -0.014094489607820754,
                    0.2202791650957792,
                    0.10106378358492207,
                    -0.11051897402892491,
                    -0.2022619429721117,
                    -0.018541245004672673,
                    -0.0187902587815867,
                ],
                "5": [
                    0.04849965919817537,
                    0.08676039673019759,
                    0.011354839114848359,
                    0.022795074379244697,
                    -0.004816797444733697,
                    -0.0399142315863078,
                    0.01211445273202862,
                    -0.002489085922815824,
                ],
                "6": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
                "8": [
                    0.0,
                    0.0,
                    6.938893903907228e-18,
                    -3.469446951953614e-18,
                    6.938893903907228e-18,
                    0.0,
                    0.0,
                    0.0,
                ],
                "11": [
                    0.0,
                    0.0,
                    -6.938893903907228e-18,
                    3.469446951953614e-18,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                ],
                "9": [
                    -2.6020852139652106e-18,
                    2.3852447794681098e-18,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                ],
                "10": [
                    0.01791178648422557,
                    -0.02863571492381871,
                    0.13518057857677432,
                    0.05701522257560652,
                    -0.05641341804409784,
                    -0.12226395107789648,
                    0.0032870644637122276,
                    -0.00608156805450562,
                ],
            },
            "1": {
                "0": [
                    4.424721594595611e-05,
                    0.0004808475939632073,
                    0.0003194271276729531,
                    0.0034713091548114693,
                    0.0001002920065572857,
                    0.0010899029241911052,
                    0.00018352434020102145,
                    0.0019944133327423792,
                    7.29154938666952e-07,
                    7.9239425665251e-06,
                    0.00028575514904757274,
                    0.003105385795344716,
                    0.00015360290432134513,
                    0.0016692482315473127,
                    3.4528409907964605e-06,
                    3.752304517395835e-05,
                    0.01626644121618534,
                    0.17677223196822367,
                    0.02253858469299182,
                    0.2449334718414422,
                    0.03705661606705658,
                    0.4027052164824603,
                    0.0028849420669729677,
                    0.031351519456535894,
                    0.0022903246926875304,
                    0.0248896364286162,
                    0.001421087521188513,
                    0.015443378770073407,
                    0.00033353804680704666,
                    0.0036246566902253495,
                    0.0003826288051618459,
                    0.004158140493354695,
                ],
                "1": [
                    0.00046756810983757623,
                    0.005081201061416616,
                    0.0006432822448891927,
                    0.006990738582785064,
                    0.0001983102303014212,
                    0.002155095977455336,
                    0.00012672228803225282,
                    0.0013771286170014975,
                    0.00032669831723100296,
                    0.003550327324192095,
                    0.0005879370497087349,
                    0.0063892859632021255,
                    5.5031321056741835e-08,
                    5.980416565659142e-07,
                    3.4314416758659302e-06,
                    3.729049248387893e-05,
                    0.03460512736398274,
                    0.376064163044413,
                    0.030402341767145062,
                    0.3303912478343136,
                    0.003797554138250922,
                    0.04126914499102759,
                    0.00458966053803364,
                    0.04987719972069888,
                    0.0016189004936603315,
                    0.017593070899493773,
                    0.006746597613983761,
                    0.07331727343217134,
                    9.763919089104385e-06,
                    0.00010610739910465276,
                    0.00014124330158459537,
                    0.0015349327698566577,
                ],
                "2": [
                    0.0032680422496538055,
                    0.0003007226675485976,
                    0.019737206619432623,
                    0.0018162021697186988,
                    6.780507597163215e-05,
                    6.239369555789663e-06,
                    0.005096752301950922,
                    0.0004689991227131475,
                    0.001713520731045545,
                    0.000157676824770067,
                    0.014448795636604268,
                    0.0013295667665142498,
                    0.0011036560457181584,
                    0.0001015575579415046,
                    0.0017542890411290357,
                    0.0001614282924755579,
                    0.0027724912238263153,
                    0.0002551224534115023,
                    0.5663456572275818,
                    0.052114680223024616,
                    0.10466547182580505,
                    0.0096312340793706,
                    0.005345757364562483,
                    0.0004919123719741035,
                    0.0397721211530324,
                    0.003659799186645431,
                    0.14075686334070128,
                    0.012952335430814305,
                    9.152881104642758e-06,
                    8.422408926429271e-07,
                    0.00887722343315268,
                    0.0008168750913564195,
                ],
                "3": [
                    0.008480837413449965,
                    0.0007803999627877478,
                    7.59909373283813e-05,
                    6.992626054736565e-06,
                    0.005218266424382684,
                    0.0004801807563185213,
                    4.3369036339390065e-05,
                    3.99078448216974e-06,
                    0.004882781228711918,
                    0.0004493096734933639,
                    0.00020702840644592563,
                    1.905059050302954e-05,
                    7.16916821958595e-06,
                    6.597011991895025e-07,
                    1.4221845244588939e-05,
                    1.3086829706284111e-06,
                    0.8000181535016813,
                    0.07361703883535008,
                    0.0007389707342519444,
                    6.799950351563897e-05,
                    0.07454132317916075,
                    0.006859233705260071,
                    0.00020369597559229417,
                    1.874394284698059e-05,
                    0.008082925012368332,
                    0.0007437843778097361,
                    0.009540328582019456,
                    0.0008778935036041658,
                    0.0024556558864214308,
                    0.00022596751581908098,
                    0.0012240888196547093,
                    0.00011263968671212067,
                ],
                "4": [
                    0.002036410128465777,
                    1.0519735090006278e-05,
                    0.012539212972305773,
                    0.00013285956351209656,
                    1.5845665605667183e-06,
                    0.0006305351215773439,
                    0.0036072877942100773,
                    0.00026455675459365746,
                    0.0008924721084166476,
                    4.745321824375268e-05,
                    0.009399224641871222,
                    0.00018552703188418374,
                    0.0010403633380843779,
                    0.00047366903167978425,
                    0.000956699477670308,
                    2.164713221436491e-05,
                    0.002803919666317101,
                    0.09522922376450632,
                    0.4074227810793176,
                    0.03554341591320257,
                    0.13313903528306736,
                    0.14389023394427886,
                    0.0001882387801234498,
                    0.019848826849899276,
                    0.030575387169002727,
                    0.00473055356148805,
                    0.08523209467724653,
                    5.473785414223957e-05,
                    0.00011609300621594356,
                    0.0018680019232989004,
                    0.006472934907899719,
                    0.0006444990036131009,
                ],
                "5": [
                    0.0024828793024220795,
                    0.00492212397132386,
                    0.0001385401850868093,
                    0.0037199620104418772,
                    0.0016910196232163882,
                    0.0023349070710125927,
                    0.00015917948385097948,
                    0.0006164258790766759,
                    0.0013417289215424996,
                    0.0032628293502716867,
                    4.859926545446754e-05,
                    0.003553051739475438,
                    4.240215044774853e-06,
                    7.561534241973126e-10,
                    1.8408412528930291e-06,
                    2.6285389934587735e-05,
                    0.2509243509680895,
                    0.39122789040462386,
                    0.02031053397260712,
                    0.1604897459470059,
                    0.022344614430508933,
                    0.04088901357634072,
                    0.001429778375267715,
                    0.025914871713318185,
                    0.0012335309245723053,
                    0.012785809467093763,
                    0.00012069811028861094,
                    0.04512034845560072,
                    0.0010778653827175782,
                    0.00032088197749955365,
                    0.0002668604013017194,
                    0.0012395918876023193,
                ],
                "6": [
                    0.00165614473279988,
                    0.0003907851307559031,
                    0.010028316873552772,
                    0.002643755662265081,
                    8.40485412644587e-05,
                    0.0005480711468734468,
                    0.0026401383210759707,
                    0.0012317062277277635,
                    0.0008571249429921039,
                    8.280038366829609e-05,
                    0.007367275392825919,
                    0.0022174762809294857,
                    0.0006286294750197517,
                    0.0008854028947444074,
                    0.0008788709410599137,
                    9.947566882475817e-05,
                    0.00951946622000583,
                    0.08851367721081758,
                    0.2944421209602867,
                    0.14852407603223342,
                    0.07086104394643085,
                    0.2061682252809154,
                    0.004115349715767724,
                    0.015921715914254998,
                    0.021031222922859964,
                    0.014274717807630826,
                    0.0710889754309449,
                    0.014197857100443875,
                    0.00017134546395584512,
                    0.0018127494655589944,
                    0.004629926119157266,
                    0.0024875077923555587,
                ],
                "7": [
                    0.004474202761643759,
                    0.0029308005121021817,
                    0.0003596365911087866,
                    0.003498865604419906,
                    0.002708288327342048,
                    0.0013176383668869291,
                    8.504566218582142e-05,
                    0.0006905597007418336,
                    0.0026047397729714646,
                    0.001999818498842726,
                    0.00039748272807733014,
                    0.0032041682768525802,
                    3.6120997703213663e-06,
                    6.288714278777057e-07,
                    8.82664346022741e-06,
                    1.929958772725341e-05,
                    0.4173116404328318,
                    0.2248406009398815,
                    0.015570656250698495,
                    0.16522962366891458,
                    0.03916943865870582,
                    0.024064189348143826,
                    0.002396678256812964,
                    0.024947971831772928,
                    0.00485091275301433,
                    0.009168427638651746,
                    0.008143463098001605,
                    0.03709758346788772,
                    0.0012327099027552688,
                    0.00016603745746186614,
                    0.0006826660606196536,
                    0.0008237862282843851,
                ],
                "8": [
                    0.00011207238514174436,
                    0.0012179237855540362,
                    2.8053682787848613e-05,
                    0.0003048676754447156,
                    0.00029032923944699785,
                    0.003155093789760008,
                    2.622086908843844e-06,
                    2.8494994641469812e-05,
                    0.00014827956323809158,
                    0.0016113979081539818,
                    2.6960701650801594e-05,
                    0.0002929899258787738,
                    7.392156851203251e-05,
                    0.0008033275676465583,
                    1.6629611531147328e-11,
                    1.8071891128815136e-10,
                    0.04916134582284511,
                    0.5342508980402555,
                    0.000293646105290234,
                    0.003191139152753402,
                    0.03228982111484868,
                    0.3509030446467293,
                    9.849589972356246e-05,
                    0.0010703840995366554,
                    2.904572192944211e-05,
                    0.0003156484584647215,
                    0.0009874728093510966,
                    0.010731159335776409,
                    0.0002287179480168601,
                    0.0024855456473111934,
                    0.0004944091824062938,
                    0.0053728909426472,
                ],
                "9": [
                    0.011139013411586561,
                    0.0010250032193882329,
                    0.011131281933835254,
                    0.0010242917749099041,
                    0.0032378676183092265,
                    0.0002979460217964813,
                    0.0020999104423067775,
                    0.00019323210092848255,
                    0.006190683928793566,
                    0.0005696618473075872,
                    0.009057452751230256,
                    0.0008334596509068653,
                    0.00046646152013843183,
                    4.292342079104477e-05,
                    0.0010422086870826416,
                    9.590322051528396e-05,
                    0.4484914295212561,
                    0.041269827240637234,
                    0.2630847269736018,
                    0.024208848859030813,
                    0.0012750172327945022,
                    0.00011732607907899973,
                    0.00173121851886138,
                    0.00015930536123169117,
                    0.04185724903885452,
                    0.003851671008397682,
                    0.11179374197614246,
                    0.01028717187051867,
                    0.0013823254508694657,
                    0.00012720049658165237,
                    0.0017542171456095717,
                    0.00016142167670662113,
                ],
                "10": [
                    0.004508235509521491,
                    0.002238770891313793,
                    0.005020853481013184,
                    0.0012233940524756753,
                    0.0007945378876772124,
                    0.002696080446979138,
                    0.0011254696855566924,
                    3.6660126836093547e-05,
                    0.0022113836773889296,
                    0.002048627946357675,
                    0.0040480455368048455,
                    0.0010573859780285003,
                    0.0004558836745277249,
                    0.00023743336401630788,
                    0.0005212360011083102,
                    4.7820051364913536e-05,
                    0.10033920888116428,
                    0.43624754143133254,
                    0.12289977214273315,
                    0.02248940840260492,
                    0.023198810555687562,
                    0.16909379398103808,
                    0.0013277953712893308,
                    0.0002019065683873131,
                    0.02204576880967491,
                    0.0009810383041482522,
                    0.045883786729146725,
                    0.021015986266747576,
                    0.00024323828281561747,
                    0.0018686564885739597,
                    0.0020556031643429143,
                    0.0018358663093419225,
                ],
                "11": [
                    0.005625542898364144,
                    0.001121463502471135,
                    0.005579667808311558,
                    0.0006645797251773095,
                    0.0017640984288781116,
                    0.0017265199057782384,
                    0.0010512662646078108,
                    0.00011086354778497612,
                    0.003169481746015826,
                    0.001090529877730783,
                    0.004542206726440532,
                    0.0005632247883928194,
                    0.000270191544325232,
                    0.0004231254942188008,
                    0.0005211043518561269,
                    4.795170061709762e-05,
                    0.24882638767205065,
                    0.28776036264044635,
                    0.13168918653944603,
                    0.013699994005892106,
                    0.016782419173821603,
                    0.17551018536290403,
                    0.0009148572092924721,
                    0.0006148447303841731,
                    0.020943147380391977,
                    0.0020836597334311997,
                    0.05639060739274675,
                    0.010509165603147541,
                    0.0008055216994431651,
                    0.0013063730719464163,
                    0.0011243131640079295,
                    0.0027671563096769037,
                ],
                "12": [
                    0.0002559076628917662,
                    0.0027810243276899117,
                    0.0004813546862810728,
                    0.005231023868798269,
                    0.00014930111842935382,
                    0.0016224994508232209,
                    0.00015512331411663712,
                    0.0016857709748719384,
                    0.0001637137360848348,
                    0.0017791256333793068,
                    0.0004368460993781533,
                    0.004747335879273425,
                    7.682896782120084e-05,
                    0.0008349231366019383,
                    3.4421413333312004e-06,
                    3.740676882891846e-05,
                    0.02543578429008404,
                    0.2764181975063183,
                    0.026470463230068436,
                    0.2876623598378778,
                    0.02042708510265376,
                    0.2219871807367439,
                    0.003737301302503301,
                    0.04061435958861738,
                    0.0019546125931739324,
                    0.02124135366405498,
                    0.004083842567586136,
                    0.04438032610112237,
                    0.0001716509829480762,
                    0.0018653820446649985,
                    0.00026193605337322033,
                    0.0028465366316056733,
                ],
                "13": [
                    0.005874439831551873,
                    0.0005405613151681729,
                    0.009906598778380484,
                    0.0009115973978867171,
                    0.0026430357501771528,
                    0.00024321006293715497,
                    0.002570060669145155,
                    0.00023649495359765864,
                    0.003298150979878734,
                    0.00030349324913171515,
                    0.007327912021525097,
                    0.0006743086785086404,
                    0.0005554126069688723,
                    5.1108629570346945e-05,
                    0.0008842554431868101,
                    8.136848772309312e-05,
                    0.4013953223627536,
                    0.036936080644380774,
                    0.2835423139809168,
                    0.02609133986327013,
                    0.08960339750248288,
                    0.008245233892315337,
                    0.0027747266700773876,
                    0.00025532815741054237,
                    0.02392752308270036,
                    0.0022017917822275855,
                    0.07514859596136035,
                    0.006915114467209234,
                    0.0012324043837630375,
                    0.00011340487835586168,
                    0.0050506561264037,
                    0.0004647573890342704,
                ],
                "14": [
                    0.0022596447154439284,
                    0.0024663218532069288,
                    0.0063388765786962925,
                    0.0019264107869769874,
                    0.0008463020948884805,
                    0.0014827210962949685,
                    0.0018832336390305288,
                    0.000440491316835166,
                    0.0011171005149795714,
                    0.001655141284257723,
                    0.0047239119536628465,
                    0.001869289385679812,
                    0.0005223017765645755,
                    0.000236834893916604,
                    0.0004792701594616004,
                    2.3966261074476444e-05,
                    0.1268641353172033,
                    0.24322855708456495,
                    0.2138666575259624,
                    0.09801658093010424,
                    0.07774182485678814,
                    0.09238962376030975,
                    0.0008090085776955818,
                    0.022881849281608715,
                    0.015904459046787518,
                    0.008758181514290895,
                    0.042676396393767545,
                    0.0225875431548715,
                    0.0005969791944667615,
                    0.0010944419503992231,
                    0.0033698976546007167,
                    0.0009420454456077111,
                ],
                "15": [
                    0.0021408160528990417,
                    0.0025851505157518193,
                    0.003334462793455346,
                    0.0049308245722179305,
                    0.001699903849309159,
                    0.000629119341874285,
                    0.0010053685272957327,
                    0.0013183564285699615,
                    0.001326997848928253,
                    0.001445243950309041,
                    0.00230345785506072,
                    0.004289743484281941,
                    0.0003288163383232511,
                    0.0004303203321579292,
                    0.00040155152336725946,
                    0.00010168489716881798,
                    0.2655562943574186,
                    0.10453639804434975,
                    0.09143780250346921,
                    0.22044543595259727,
                    0.09126215325687408,
                    0.07886929536022387,
                    0.0053493735178756,
                    0.018341484341428693,
                    0.0067776799315812306,
                    0.017884960629497196,
                    0.022367151144175274,
                    0.04289678840446375,
                    0.0011498091466215377,
                    0.0005416119982444504,
                    0.0035583613533454127,
                    0.0007535817468630164,
                ],
            },
        },
        "cuts": {
            "max_subcircuit_width": 5,
            "subcircuits": [
                'OPENQASM 2.0;\ninclude "qelib1.inc";\nqreg q[5];\nry(0.0) q[0];\nry(pi/16) q[1];\ncx q[0],q[1];\nry(pi/2) q[0];\nry(pi/8) q[2];\ncx q[1],q[2];\nry(9*pi/16) q[1];\ncx q[0],q[1];\nry(pi) q[0];\nry(3*pi/16) q[3];\ncx q[2],q[3];\nry(5*pi/8) q[2];\ncx q[1],q[2];\nry(3.33794219443916) q[1];\nry(pi/4) q[4];\ncx q[3],q[4];\nry(11*pi/16) q[3];\ncx q[2],q[3];\nry(9*pi/8) q[2];\n',
                'OPENQASM 2.0;\ninclude "qelib1.inc";\nqreg q[5];\nry(5*pi/16) q[2];\ncx q[1],q[2];\nry(3*pi/4) q[1];\ncx q[0],q[1];\nry(3.73064127613788) q[0];\nry(3*pi/8) q[3];\ncx q[2],q[3];\nry(13*pi/16) q[2];\ncx q[1],q[2];\nry(5*pi/4) q[1];\nry(7*pi/16) q[4];\ncx q[3],q[4];\nry(7*pi/8) q[3];\ncx q[2],q[3];\nry(4.1233403578366) q[2];\nry(15*pi/16) q[4];\ncx q[3],q[4];\nry(11*pi/8) q[3];\nry(4.51603943953533) q[4];\n',
            ],
            "complete_path_map": '{"json://{\\"py/object\\": \\"qiskit.circuit.quantumregister.Qubit\\", \\"_register\\": {\\"py/object\\": \\"qiskit.circuit.quantumregister.QuantumRegister\\", \\"py/state\\": {\\"py/tuple\\": [\\"q\\", 8, 1766764903106774880, \\"QuantumRegister(8, \'q\')\\", [{\\"py/id\\": 1}, {\\"py/object\\": \\"qiskit.circuit.quantumregister.Qubit\\", \\"_register\\": {\\"py/id\\": 2}, \\"_index\\": 1, \\"_hash\\": 4706609062556836265, \\"_repr\\": \\"Qubit(QuantumRegister(8, \'q\'), 1)\\"}, {\\"py/object\\": \\"qiskit.circuit.quantumregister.Qubit\\", \\"_register\\": {\\"py/id\\": 2}, \\"_index\\": 2, \\"_hash\\": 6815892435674466562, \\"_repr\\": \\"Qubit(QuantumRegister(8, \'q\'), 2)\\"}, {\\"py/object\\": \\"qiskit.circuit.quantumregister.Qubit\\", \\"_register\\": {\\"py/id\\": 2}, \\"_index\\": 3, \\"_hash\\": 1922818406701770196, \\"_repr\\": \\"Qubit(QuantumRegister(8, \'q\'), 3)\\"}, {\\"py/object\\": \\"qiskit.circuit.quantumregister.Qubit\\", \\"_register\\": {\\"py/id\\": 2}, \\"_index\\": 4, \\"_hash\\": 8430459162803768621, \\"_repr\\": \\"Qubit(QuantumRegister(8, \'q\'), 4)\\"}, {\\"py/object\\": \\"qiskit.circuit.quantumregister.Qubit\\", \\"_register\\": {\\"py/id\\": 2}, \\"_index\\": 5, \\"_hash\\": -3508644154803784570, \\"_repr\\": \\"Qubit(QuantumRegister(8, \'q\'), 5)\\"}, {\\"py/object\\": \\"qiskit.circuit.quantumregister.Qubit\\", \\"_register\\": {\\"py/id\\": 2}, \\"_index\\": 6, \\"_hash\\": 5646668506948702552, \\"_repr\\": \\"Qubit(QuantumRegister(8, \'q\'), 6)\\"}, {\\"py/object\\": \\"qiskit.circuit.quantumregister.Qubit\\", \\"_register\\": {\\"py/id\\": 2}, \\"_index\\": 7, \\"_hash\\": -6292434810658850639, \\"_repr\\": \\"Qubit(QuantumRegister(8, \'q\'), 7)\\"}]]}}, \\"_index\\": 0, \\"_hash\\": -8847060982180018985, \\"_repr\\": \\"Qubit(QuantumRegister(8, \'q\'), 0)\\"}": [{"subcircuit_idx": 0, "subcircuit_qubit": {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/object": "qiskit.circuit.quantumregister.QuantumRegister", "py/state": {"py/tuple": ["q", 5, -1957085197140157476, "QuantumRegister(5, \'q\')", [{"py/id": 13}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 14}, "_index": 1, "_hash": -537146830593962625, "_repr": "Qubit(QuantumRegister(5, \'q\'), 1)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 14}, "_index": 2, "_hash": 8618165831158524497, "_repr": "Qubit(QuantumRegister(5, \'q\'), 2)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 14}, "_index": 3, "_hash": -3320937486449028694, "_repr": "Qubit(QuantumRegister(5, \'q\'), 3)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 14}, "_index": 4, "_hash": 3186703269652969731, "_repr": "Qubit(QuantumRegister(5, \'q\'), 4)"}]]}}, "_index": 0, "_hash": -7044787586695961050, "_repr": "Qubit(QuantumRegister(5, \'q\'), 0)"}}], "json://{\\"py/id\\": 4}": [{"subcircuit_idx": 0, "subcircuit_qubit": {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/object": "qiskit.circuit.quantumregister.QuantumRegister", "py/state": {"py/tuple": ["q", 5, -1957085197140157476, "QuantumRegister(5, \'q\')", [{"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 23}, "_index": 0, "_hash": -7044787586695961050, "_repr": "Qubit(QuantumRegister(5, \'q\'), 0)"}, {"py/id": 22}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 23}, "_index": 2, "_hash": 8618165831158524497, "_repr": "Qubit(QuantumRegister(5, \'q\'), 2)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 23}, "_index": 3, "_hash": -3320937486449028694, "_repr": "Qubit(QuantumRegister(5, \'q\'), 3)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 23}, "_index": 4, "_hash": 3186703269652969731, "_repr": "Qubit(QuantumRegister(5, \'q\'), 4)"}]]}}, "_index": 1, "_hash": -537146830593962625, "_repr": "Qubit(QuantumRegister(5, \'q\'), 1)"}}], "json://{\\"py/id\\": 5}": [{"subcircuit_idx": 0, "subcircuit_qubit": {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/object": "qiskit.circuit.quantumregister.QuantumRegister", "py/state": {"py/tuple": ["q", 5, -1957085197140157476, "QuantumRegister(5, \'q\')", [{"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 32}, "_index": 0, "_hash": -7044787586695961050, "_repr": "Qubit(QuantumRegister(5, \'q\'), 0)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 32}, "_index": 1, "_hash": -537146830593962625, "_repr": "Qubit(QuantumRegister(5, \'q\'), 1)"}, {"py/id": 31}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 32}, "_index": 3, "_hash": -3320937486449028694, "_repr": "Qubit(QuantumRegister(5, \'q\'), 3)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 32}, "_index": 4, "_hash": 3186703269652969731, "_repr": "Qubit(QuantumRegister(5, \'q\'), 4)"}]]}}, "_index": 2, "_hash": 8618165831158524497, "_repr": "Qubit(QuantumRegister(5, \'q\'), 2)"}}], "json://{\\"py/id\\": 6}": [{"subcircuit_idx": 0, "subcircuit_qubit": {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/object": "qiskit.circuit.quantumregister.QuantumRegister", "py/state": {"py/tuple": ["q", 5, -1957085197140157476, "QuantumRegister(5, \'q\')", [{"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 41}, "_index": 0, "_hash": -7044787586695961050, "_repr": "Qubit(QuantumRegister(5, \'q\'), 0)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 41}, "_index": 1, "_hash": -537146830593962625, "_repr": "Qubit(QuantumRegister(5, \'q\'), 1)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 41}, "_index": 2, "_hash": 8618165831158524497, "_repr": "Qubit(QuantumRegister(5, \'q\'), 2)"}, {"py/id": 40}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 41}, "_index": 4, "_hash": 3186703269652969731, "_repr": "Qubit(QuantumRegister(5, \'q\'), 4)"}]]}}, "_index": 3, "_hash": -3320937486449028694, "_repr": "Qubit(QuantumRegister(5, \'q\'), 3)"}}, {"subcircuit_idx": 1, "subcircuit_qubit": {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/object": "qiskit.circuit.quantumregister.QuantumRegister", "py/state": {"py/tuple": ["q", 5, -1957085197140157476, "QuantumRegister(5, \'q\')", [{"py/id": 48}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 49}, "_index": 1, "_hash": -537146830593962625, "_repr": "Qubit(QuantumRegister(5, \'q\'), 1)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 49}, "_index": 2, "_hash": 8618165831158524497, "_repr": "Qubit(QuantumRegister(5, \'q\'), 2)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 49}, "_index": 3, "_hash": -3320937486449028694, "_repr": "Qubit(QuantumRegister(5, \'q\'), 3)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 49}, "_index": 4, "_hash": 3186703269652969731, "_repr": "Qubit(QuantumRegister(5, \'q\'), 4)"}]]}}, "_index": 0, "_hash": -7044787586695961050, "_repr": "Qubit(QuantumRegister(5, \'q\'), 0)"}}], "json://{\\"py/id\\": 7}": [{"subcircuit_idx": 0, "subcircuit_qubit": {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/object": "qiskit.circuit.quantumregister.QuantumRegister", "py/state": {"py/tuple": ["q", 5, -1957085197140157476, "QuantumRegister(5, \'q\')", [{"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 58}, "_index": 0, "_hash": -7044787586695961050, "_repr": "Qubit(QuantumRegister(5, \'q\'), 0)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 58}, "_index": 1, "_hash": -537146830593962625, "_repr": "Qubit(QuantumRegister(5, \'q\'), 1)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 58}, "_index": 2, "_hash": 8618165831158524497, "_repr": "Qubit(QuantumRegister(5, \'q\'), 2)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 58}, "_index": 3, "_hash": -3320937486449028694, "_repr": "Qubit(QuantumRegister(5, \'q\'), 3)"}, {"py/id": 57}]]}}, "_index": 4, "_hash": 3186703269652969731, "_repr": "Qubit(QuantumRegister(5, \'q\'), 4)"}}, {"subcircuit_idx": 1, "subcircuit_qubit": {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/object": "qiskit.circuit.quantumregister.QuantumRegister", "py/state": {"py/tuple": ["q", 5, -1957085197140157476, "QuantumRegister(5, \'q\')", [{"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 66}, "_index": 0, "_hash": -7044787586695961050, "_repr": "Qubit(QuantumRegister(5, \'q\'), 0)"}, {"py/id": 65}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 66}, "_index": 2, "_hash": 8618165831158524497, "_repr": "Qubit(QuantumRegister(5, \'q\'), 2)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 66}, "_index": 3, "_hash": -3320937486449028694, "_repr": "Qubit(QuantumRegister(5, \'q\'), 3)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 66}, "_index": 4, "_hash": 3186703269652969731, "_repr": "Qubit(QuantumRegister(5, \'q\'), 4)"}]]}}, "_index": 1, "_hash": -537146830593962625, "_repr": "Qubit(QuantumRegister(5, \'q\'), 1)"}}], "json://{\\"py/id\\": 8}": [{"subcircuit_idx": 1, "subcircuit_qubit": {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/object": "qiskit.circuit.quantumregister.QuantumRegister", "py/state": {"py/tuple": ["q", 5, -1957085197140157476, "QuantumRegister(5, \'q\')", [{"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 75}, "_index": 0, "_hash": -7044787586695961050, "_repr": "Qubit(QuantumRegister(5, \'q\'), 0)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 75}, "_index": 1, "_hash": -537146830593962625, "_repr": "Qubit(QuantumRegister(5, \'q\'), 1)"}, {"py/id": 74}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 75}, "_index": 3, "_hash": -3320937486449028694, "_repr": "Qubit(QuantumRegister(5, \'q\'), 3)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 75}, "_index": 4, "_hash": 3186703269652969731, "_repr": "Qubit(QuantumRegister(5, \'q\'), 4)"}]]}}, "_index": 2, "_hash": 8618165831158524497, "_repr": "Qubit(QuantumRegister(5, \'q\'), 2)"}}], "json://{\\"py/id\\": 9}": [{"subcircuit_idx": 1, "subcircuit_qubit": {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/object": "qiskit.circuit.quantumregister.QuantumRegister", "py/state": {"py/tuple": ["q", 5, -1957085197140157476, "QuantumRegister(5, \'q\')", [{"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 84}, "_index": 0, "_hash": -7044787586695961050, "_repr": "Qubit(QuantumRegister(5, \'q\'), 0)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 84}, "_index": 1, "_hash": -537146830593962625, "_repr": "Qubit(QuantumRegister(5, \'q\'), 1)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 84}, "_index": 2, "_hash": 8618165831158524497, "_repr": "Qubit(QuantumRegister(5, \'q\'), 2)"}, {"py/id": 83}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 84}, "_index": 4, "_hash": 3186703269652969731, "_repr": "Qubit(QuantumRegister(5, \'q\'), 4)"}]]}}, "_index": 3, "_hash": -3320937486449028694, "_repr": "Qubit(QuantumRegister(5, \'q\'), 3)"}}], "json://{\\"py/id\\": 10}": [{"subcircuit_idx": 1, "subcircuit_qubit": {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/object": "qiskit.circuit.quantumregister.QuantumRegister", "py/state": {"py/tuple": ["q", 5, -1957085197140157476, "QuantumRegister(5, \'q\')", [{"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 93}, "_index": 0, "_hash": -7044787586695961050, "_repr": "Qubit(QuantumRegister(5, \'q\'), 0)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 93}, "_index": 1, "_hash": -537146830593962625, "_repr": "Qubit(QuantumRegister(5, \'q\'), 1)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 93}, "_index": 2, "_hash": 8618165831158524497, "_repr": "Qubit(QuantumRegister(5, \'q\'), 2)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 93}, "_index": 3, "_hash": -3320937486449028694, "_repr": "Qubit(QuantumRegister(5, \'q\'), 3)"}, {"py/id": 92}]]}}, "_index": 4, "_hash": 3186703269652969731, "_repr": "Qubit(QuantumRegister(5, \'q\'), 4)"}}]}',
            "num_cuts": 2,
            "counter": {
                "0": {"effective": 3, "rho": 0, "O": 2, "d": 5, "depth": 8, "size": 19},
                "1": {"effective": 5, "rho": 2, "O": 0, "d": 5, "depth": 8, "size": 19},
            },
            "classical_cost": 4096,
        },
    },
)
@blp.response(200, CombineResultsResponseSchema)
def combine_results(json: dict):
    """Execute a given quantum circuit on a specified quantum computer."""
    print("request combine", json)
    return circuit_cutter.reconstruct_result(CombineResultsRequest(**json))


@blp.route("/combineResultsQuokka", methods=["POST"])
@blp.arguments(
    CombineResultsRequestQuokkaSchema,
    example={
        "circuit": 'OPENQASM 2.0;\ninclude "qelib1.inc";\nqreg q[8];\nry(0.0) q[0];\nry(pi/16) q[1];\ncx q[0],q[1];\nry(pi/2) q[0];\nry(pi/8) q[2];\ncx q[1],q[2];\nry(9*pi/16) q[1];\ncx q[0],q[1];\nry(pi) q[0];\nry(3*pi/16) q[3];\ncx q[2],q[3];\nry(5*pi/8) q[2];\ncx q[1],q[2];\nry(3.33794219443916) q[1];\nry(pi/4) q[4];\ncx q[3],q[4];\nry(11*pi/16) q[3];\ncx q[2],q[3];\nry(9*pi/8) q[2];\nry(5*pi/16) q[5];\ncx q[4],q[5];\nry(3*pi/4) q[4];\ncx q[3],q[4];\nry(3.73064127613788) q[3];\nry(3*pi/8) q[6];\ncx q[5],q[6];\nry(13*pi/16) q[5];\ncx q[4],q[5];\nry(5*pi/4) q[4];\nry(7*pi/16) q[7];\ncx q[6],q[7];\nry(7*pi/8) q[6];\ncx q[5],q[6];\nry(4.1233403578366) q[5];\nry(15*pi/16) q[7];\ncx q[6],q[7];\nry(11*pi/8) q[6];\nry(4.51603943953533) q[7];\n',
        "subcircuit_results": {
            0: {
                0: {
                    "000": 0.09604116132091502,
                    "001": 0.1252813880264459,
                    "010": 0.25038509503888107,
                    "011": 0.12655310667928063,
                    "100": 0.12649605071717127,
                    "101": 0.22699656310887625,
                    "110": 0.027077692923032845,
                    "111": 0.02116894218539732,
                },
                12: {
                    "000": 0.0709532840090998,
                    "001": 0.08927152461869714,
                    "010": 0.11849410479433922,
                    "011": 0.07267864226663924,
                    "100": 0.06134823297383055,
                    "101": 0.09499684313314224,
                    "110": 0.015577667434959828,
                    "111": 0.009426279193750723,
                },
                3: {
                    "000": 0.04640521138504562,
                    "001": 0.009713909676816264,
                    "010": 0.19385045389949504,
                    "011": 0.09427581122299465,
                    "100": -0.11007091069664102,
                    "101": -0.19021962415098723,
                    "110": -0.023681588737033146,
                    "111": -0.02027326259969011,
                },
                15: {
                    "000": 0.02523799764031149,
                    "001": 0.026752748888714067,
                    "010": 0.08560885892300032,
                    "011": 0.04387226726076178,
                    "100": -0.05553049159335697,
                    "101": -0.10110433012718753,
                    "110": -0.015094524556118878,
                    "111": -0.00974252643612428,
                },
                1: {
                    "000": 0.0821561253292946,
                    "001": 0.12157739088920003,
                    "010": 0.08270978488811195,
                    "011": 0.062265758030218395,
                    "100": 0.026517385429847593,
                    "101": 0.01988618912514234,
                    "110": 0.012711373495239927,
                    "111": 0.0003653310979333168,
                },
                13: {
                    "000": 0.06868947577205763,
                    "001": 0.08985376844541507,
                    "010": 0.15806886147899316,
                    "011": 0.08129049644619205,
                    "100": 0.062148563360947,
                    "101": 0.11726375555973712,
                    "110": 0.0050619999928419625,
                    "111": 0.005560880153495535,
                },
                2: {},
                14: {},
                4: {
                    "000": 0.06219890723427189,
                    "001": 0.08310244827252705,
                    "010": 0.17429301225885727,
                    "011": 0.08650299511062787,
                    "100": 0.09515866446420748,
                    "101": 0.16599567983776242,
                    "110": 0.021902806635937213,
                    "111": 0.01795226737235642,
                },
                7: {
                    "000": 0.0428639617144156,
                    "001": -0.014094489607820754,
                    "010": 0.2202791650957792,
                    "011": 0.10106378358492207,
                    "100": -0.11051897402892491,
                    "101": -0.2022619429721117,
                    "110": -0.018541245004672673,
                    "111": -0.0187902587815867,
                },
                5: {
                    "000": 0.04849965919817537,
                    "001": 0.08676039673019759,
                    "010": 0.011354839114848359,
                    "011": 0.022795074379244697,
                    "100": -0.004816797444733697,
                    "101": -0.0399142315863078,
                    "110": 0.01211445273202862,
                    "111": -0.002489085922815824,
                },
                6: {},
                8: {
                    "010": 6.938893903907228e-18,
                    "011": -3.469446951953614e-18,
                    "100": 6.938893903907228e-18,
                },
                11: {"010": -6.938893903907228e-18, "011": 3.469446951953614e-18},
                9: {"000": -2.6020852139652106e-18, "001": 2.3852447794681098e-18},
                10: {
                    "000": 0.01791178648422557,
                    "001": -0.02863571492381871,
                    "010": 0.13518057857677432,
                    "011": 0.05701522257560652,
                    "100": -0.05641341804409784,
                    "101": -0.12226395107789648,
                    "110": 0.0032870644637122276,
                    "111": -0.00608156805450562,
                },
            },
            1: {
                0: {
                    "00000": 4.424721594595611e-05,
                    "00001": 0.0004808475939632073,
                    "00010": 0.0003194271276729531,
                    "00011": 0.0034713091548114693,
                    "00100": 0.0001002920065572857,
                    "00101": 0.0010899029241911052,
                    "00110": 0.00018352434020102145,
                    "00111": 0.0019944133327423792,
                    "01000": 7.29154938666952e-07,
                    "01001": 7.9239425665251e-06,
                    "01010": 0.00028575514904757274,
                    "01011": 0.003105385795344716,
                    "01100": 0.00015360290432134513,
                    "01101": 0.0016692482315473127,
                    "01110": 3.4528409907964605e-06,
                    "01111": 3.752304517395835e-05,
                    "10000": 0.01626644121618534,
                    "10001": 0.17677223196822367,
                    "10010": 0.02253858469299182,
                    "10011": 0.2449334718414422,
                    "10100": 0.03705661606705658,
                    "10101": 0.4027052164824603,
                    "10110": 0.0028849420669729677,
                    "10111": 0.031351519456535894,
                    "11000": 0.0022903246926875304,
                    "11001": 0.0248896364286162,
                    "11010": 0.001421087521188513,
                    "11011": 0.015443378770073407,
                    "11100": 0.00033353804680704666,
                    "11101": 0.0036246566902253495,
                    "11110": 0.0003826288051618459,
                    "11111": 0.004158140493354695,
                },
                1: {
                    "00000": 0.00046756810983757623,
                    "00001": 0.005081201061416616,
                    "00010": 0.0006432822448891927,
                    "00011": 0.006990738582785064,
                    "00100": 0.0001983102303014212,
                    "00101": 0.002155095977455336,
                    "00110": 0.00012672228803225282,
                    "00111": 0.0013771286170014975,
                    "01000": 0.00032669831723100296,
                    "01001": 0.003550327324192095,
                    "01010": 0.0005879370497087349,
                    "01011": 0.0063892859632021255,
                    "01100": 5.5031321056741835e-08,
                    "01101": 5.980416565659142e-07,
                    "01110": 3.4314416758659302e-06,
                    "01111": 3.729049248387893e-05,
                    "10000": 0.03460512736398274,
                    "10001": 0.376064163044413,
                    "10010": 0.030402341767145062,
                    "10011": 0.3303912478343136,
                    "10100": 0.003797554138250922,
                    "10101": 0.04126914499102759,
                    "10110": 0.00458966053803364,
                    "10111": 0.04987719972069888,
                    "11000": 0.0016189004936603315,
                    "11001": 0.017593070899493773,
                    "11010": 0.006746597613983761,
                    "11011": 0.07331727343217134,
                    "11100": 9.763919089104385e-06,
                    "11101": 0.00010610739910465276,
                    "11110": 0.00014124330158459537,
                    "11111": 0.0015349327698566577,
                },
                2: {
                    "00000": 0.0032680422496538055,
                    "00001": 0.0003007226675485976,
                    "00010": 0.019737206619432623,
                    "00011": 0.0018162021697186988,
                    "00100": 6.780507597163215e-05,
                    "00101": 6.239369555789663e-06,
                    "00110": 0.005096752301950922,
                    "00111": 0.0004689991227131475,
                    "01000": 0.001713520731045545,
                    "01001": 0.000157676824770067,
                    "01010": 0.014448795636604268,
                    "01011": 0.0013295667665142498,
                    "01100": 0.0011036560457181584,
                    "01101": 0.0001015575579415046,
                    "01110": 0.0017542890411290357,
                    "01111": 0.0001614282924755579,
                    "10000": 0.0027724912238263153,
                    "10001": 0.0002551224534115023,
                    "10010": 0.5663456572275818,
                    "10011": 0.052114680223024616,
                    "10100": 0.10466547182580505,
                    "10101": 0.0096312340793706,
                    "10110": 0.005345757364562483,
                    "10111": 0.0004919123719741035,
                    "11000": 0.0397721211530324,
                    "11001": 0.003659799186645431,
                    "11010": 0.14075686334070128,
                    "11011": 0.012952335430814305,
                    "11100": 9.152881104642758e-06,
                    "11101": 8.422408926429271e-07,
                    "11110": 0.00887722343315268,
                    "11111": 0.0008168750913564195,
                },
                3: {
                    "00000": 0.008480837413449965,
                    "00001": 0.0007803999627877478,
                    "00010": 7.59909373283813e-05,
                    "00011": 6.992626054736565e-06,
                    "00100": 0.005218266424382684,
                    "00101": 0.0004801807563185213,
                    "00110": 4.3369036339390065e-05,
                    "00111": 3.99078448216974e-06,
                    "01000": 0.004882781228711918,
                    "01001": 0.0004493096734933639,
                    "01010": 0.00020702840644592563,
                    "01011": 1.905059050302954e-05,
                    "01100": 7.16916821958595e-06,
                    "01101": 6.597011991895025e-07,
                    "01110": 1.4221845244588939e-05,
                    "01111": 1.3086829706284111e-06,
                    "10000": 0.8000181535016813,
                    "10001": 0.07361703883535008,
                    "10010": 0.0007389707342519444,
                    "10011": 6.799950351563897e-05,
                    "10100": 0.07454132317916075,
                    "10101": 0.006859233705260071,
                    "10110": 0.00020369597559229417,
                    "10111": 1.874394284698059e-05,
                    "11000": 0.008082925012368332,
                    "11001": 0.0007437843778097361,
                    "11010": 0.009540328582019456,
                    "11011": 0.0008778935036041658,
                    "11100": 0.0024556558864214308,
                    "11101": 0.00022596751581908098,
                    "11110": 0.0012240888196547093,
                    "11111": 0.00011263968671212067,
                },
                4: {
                    "00000": 0.002036410128465777,
                    "00001": 1.0519735090006278e-05,
                    "00010": 0.012539212972305773,
                    "00011": 0.00013285956351209656,
                    "00100": 1.5845665605667183e-06,
                    "00101": 0.0006305351215773439,
                    "00110": 0.0036072877942100773,
                    "00111": 0.00026455675459365746,
                    "01000": 0.0008924721084166476,
                    "01001": 4.745321824375268e-05,
                    "01010": 0.009399224641871222,
                    "01011": 0.00018552703188418374,
                    "01100": 0.0010403633380843779,
                    "01101": 0.00047366903167978425,
                    "01110": 0.000956699477670308,
                    "01111": 2.164713221436491e-05,
                    "10000": 0.002803919666317101,
                    "10001": 0.09522922376450632,
                    "10010": 0.4074227810793176,
                    "10011": 0.03554341591320257,
                    "10100": 0.13313903528306736,
                    "10101": 0.14389023394427886,
                    "10110": 0.0001882387801234498,
                    "10111": 0.019848826849899276,
                    "11000": 0.030575387169002727,
                    "11001": 0.00473055356148805,
                    "11010": 0.08523209467724653,
                    "11011": 5.473785414223957e-05,
                    "11100": 0.00011609300621594356,
                    "11101": 0.0018680019232989004,
                    "11110": 0.006472934907899719,
                    "11111": 0.0006444990036131009,
                },
                5: {
                    "00000": 0.0024828793024220795,
                    "00001": 0.00492212397132386,
                    "00010": 0.0001385401850868093,
                    "00011": 0.0037199620104418772,
                    "00100": 0.0016910196232163882,
                    "00101": 0.0023349070710125927,
                    "00110": 0.00015917948385097948,
                    "00111": 0.0006164258790766759,
                    "01000": 0.0013417289215424996,
                    "01001": 0.0032628293502716867,
                    "01010": 4.859926545446754e-05,
                    "01011": 0.003553051739475438,
                    "01100": 4.240215044774853e-06,
                    "01101": 7.561534241973126e-10,
                    "01110": 1.8408412528930291e-06,
                    "01111": 2.6285389934587735e-05,
                    "10000": 0.2509243509680895,
                    "10001": 0.39122789040462386,
                    "10010": 0.02031053397260712,
                    "10011": 0.1604897459470059,
                    "10100": 0.022344614430508933,
                    "10101": 0.04088901357634072,
                    "10110": 0.001429778375267715,
                    "10111": 0.025914871713318185,
                    "11000": 0.0012335309245723053,
                    "11001": 0.012785809467093763,
                    "11010": 0.00012069811028861094,
                    "11011": 0.04512034845560072,
                    "11100": 0.0010778653827175782,
                    "11101": 0.00032088197749955365,
                    "11110": 0.0002668604013017194,
                    "11111": 0.0012395918876023193,
                },
                6: {
                    "00000": 0.00165614473279988,
                    "00001": 0.0003907851307559031,
                    "00010": 0.010028316873552772,
                    "00011": 0.002643755662265081,
                    "00100": 8.40485412644587e-05,
                    "00101": 0.0005480711468734468,
                    "00110": 0.0026401383210759707,
                    "00111": 0.0012317062277277635,
                    "01000": 0.0008571249429921039,
                    "01001": 8.280038366829609e-05,
                    "01010": 0.007367275392825919,
                    "01011": 0.0022174762809294857,
                    "01100": 0.0006286294750197517,
                    "01101": 0.0008854028947444074,
                    "01110": 0.0008788709410599137,
                    "01111": 9.947566882475817e-05,
                    "10000": 0.00951946622000583,
                    "10001": 0.08851367721081758,
                    "10010": 0.2944421209602867,
                    "10011": 0.14852407603223342,
                    "10100": 0.07086104394643085,
                    "10101": 0.2061682252809154,
                    "10110": 0.004115349715767724,
                    "10111": 0.015921715914254998,
                    "11000": 0.021031222922859964,
                    "11001": 0.014274717807630826,
                    "11010": 0.0710889754309449,
                    "11011": 0.014197857100443875,
                    "11100": 0.00017134546395584512,
                    "11101": 0.0018127494655589944,
                    "11110": 0.004629926119157266,
                    "11111": 0.0024875077923555587,
                },
                7: {
                    "00000": 0.004474202761643759,
                    "00001": 0.0029308005121021817,
                    "00010": 0.0003596365911087866,
                    "00011": 0.003498865604419906,
                    "00100": 0.002708288327342048,
                    "00101": 0.0013176383668869291,
                    "00110": 8.504566218582142e-05,
                    "00111": 0.0006905597007418336,
                    "01000": 0.0026047397729714646,
                    "01001": 0.001999818498842726,
                    "01010": 0.00039748272807733014,
                    "01011": 0.0032041682768525802,
                    "01100": 3.6120997703213663e-06,
                    "01101": 6.288714278777057e-07,
                    "01110": 8.82664346022741e-06,
                    "01111": 1.929958772725341e-05,
                    "10000": 0.4173116404328318,
                    "10001": 0.2248406009398815,
                    "10010": 0.015570656250698495,
                    "10011": 0.16522962366891458,
                    "10100": 0.03916943865870582,
                    "10101": 0.024064189348143826,
                    "10110": 0.002396678256812964,
                    "10111": 0.024947971831772928,
                    "11000": 0.00485091275301433,
                    "11001": 0.009168427638651746,
                    "11010": 0.008143463098001605,
                    "11011": 0.03709758346788772,
                    "11100": 0.0012327099027552688,
                    "11101": 0.00016603745746186614,
                    "11110": 0.0006826660606196536,
                    "11111": 0.0008237862282843851,
                },
                8: {
                    "00000": 0.00011207238514174436,
                    "00001": 0.0012179237855540362,
                    "00010": 2.8053682787848613e-05,
                    "00011": 0.0003048676754447156,
                    "00100": 0.00029032923944699785,
                    "00101": 0.003155093789760008,
                    "00110": 2.622086908843844e-06,
                    "00111": 2.8494994641469812e-05,
                    "01000": 0.00014827956323809158,
                    "01001": 0.0016113979081539818,
                    "01010": 2.6960701650801594e-05,
                    "01011": 0.0002929899258787738,
                    "01100": 7.392156851203251e-05,
                    "01101": 0.0008033275676465583,
                    "01110": 1.6629611531147328e-11,
                    "01111": 1.8071891128815136e-10,
                    "10000": 0.04916134582284511,
                    "10001": 0.5342508980402555,
                    "10010": 0.000293646105290234,
                    "10011": 0.003191139152753402,
                    "10100": 0.03228982111484868,
                    "10101": 0.3509030446467293,
                    "10110": 9.849589972356246e-05,
                    "10111": 0.0010703840995366554,
                    "11000": 2.904572192944211e-05,
                    "11001": 0.0003156484584647215,
                    "11010": 0.0009874728093510966,
                    "11011": 0.010731159335776409,
                    "11100": 0.0002287179480168601,
                    "11101": 0.0024855456473111934,
                    "11110": 0.0004944091824062938,
                    "11111": 0.0053728909426472,
                },
                9: {
                    "00000": 0.011139013411586561,
                    "00001": 0.0010250032193882329,
                    "00010": 0.011131281933835254,
                    "00011": 0.0010242917749099041,
                    "00100": 0.0032378676183092265,
                    "00101": 0.0002979460217964813,
                    "00110": 0.0020999104423067775,
                    "00111": 0.00019323210092848255,
                    "01000": 0.006190683928793566,
                    "01001": 0.0005696618473075872,
                    "01010": 0.009057452751230256,
                    "01011": 0.0008334596509068653,
                    "01100": 0.00046646152013843183,
                    "01101": 4.292342079104477e-05,
                    "01110": 0.0010422086870826416,
                    "01111": 9.590322051528396e-05,
                    "10000": 0.4484914295212561,
                    "10001": 0.041269827240637234,
                    "10010": 0.2630847269736018,
                    "10011": 0.024208848859030813,
                    "10100": 0.0012750172327945022,
                    "10101": 0.00011732607907899973,
                    "10110": 0.00173121851886138,
                    "10111": 0.00015930536123169117,
                    "11000": 0.04185724903885452,
                    "11001": 0.003851671008397682,
                    "11010": 0.11179374197614246,
                    "11011": 0.01028717187051867,
                    "11100": 0.0013823254508694657,
                    "11101": 0.00012720049658165237,
                    "11110": 0.0017542171456095717,
                    "11111": 0.00016142167670662113,
                },
                10: {
                    "00000": 0.004508235509521491,
                    "00001": 0.002238770891313793,
                    "00010": 0.005020853481013184,
                    "00011": 0.0012233940524756753,
                    "00100": 0.0007945378876772124,
                    "00101": 0.002696080446979138,
                    "00110": 0.0011254696855566924,
                    "00111": 3.6660126836093547e-05,
                    "01000": 0.0022113836773889296,
                    "01001": 0.002048627946357675,
                    "01010": 0.0040480455368048455,
                    "01011": 0.0010573859780285003,
                    "01100": 0.0004558836745277249,
                    "01101": 0.00023743336401630788,
                    "01110": 0.0005212360011083102,
                    "01111": 4.7820051364913536e-05,
                    "10000": 0.10033920888116428,
                    "10001": 0.43624754143133254,
                    "10010": 0.12289977214273315,
                    "10011": 0.02248940840260492,
                    "10100": 0.023198810555687562,
                    "10101": 0.16909379398103808,
                    "10110": 0.0013277953712893308,
                    "10111": 0.0002019065683873131,
                    "11000": 0.02204576880967491,
                    "11001": 0.0009810383041482522,
                    "11010": 0.045883786729146725,
                    "11011": 0.021015986266747576,
                    "11100": 0.00024323828281561747,
                    "11101": 0.0018686564885739597,
                    "11110": 0.0020556031643429143,
                    "11111": 0.0018358663093419225,
                },
                11: {
                    "00000": 0.005625542898364144,
                    "00001": 0.001121463502471135,
                    "00010": 0.005579667808311558,
                    "00011": 0.0006645797251773095,
                    "00100": 0.0017640984288781116,
                    "00101": 0.0017265199057782384,
                    "00110": 0.0010512662646078108,
                    "00111": 0.00011086354778497612,
                    "01000": 0.003169481746015826,
                    "01001": 0.001090529877730783,
                    "01010": 0.004542206726440532,
                    "01011": 0.0005632247883928194,
                    "01100": 0.000270191544325232,
                    "01101": 0.0004231254942188008,
                    "01110": 0.0005211043518561269,
                    "01111": 4.795170061709762e-05,
                    "10000": 0.24882638767205065,
                    "10001": 0.28776036264044635,
                    "10010": 0.13168918653944603,
                    "10011": 0.013699994005892106,
                    "10100": 0.016782419173821603,
                    "10101": 0.17551018536290403,
                    "10110": 0.0009148572092924721,
                    "10111": 0.0006148447303841731,
                    "11000": 0.020943147380391977,
                    "11001": 0.0020836597334311997,
                    "11010": 0.05639060739274675,
                    "11011": 0.010509165603147541,
                    "11100": 0.0008055216994431651,
                    "11101": 0.0013063730719464163,
                    "11110": 0.0011243131640079295,
                    "11111": 0.0027671563096769037,
                },
                12: {
                    "00000": 0.0002559076628917662,
                    "00001": 0.0027810243276899117,
                    "00010": 0.0004813546862810728,
                    "00011": 0.005231023868798269,
                    "00100": 0.00014930111842935382,
                    "00101": 0.0016224994508232209,
                    "00110": 0.00015512331411663712,
                    "00111": 0.0016857709748719384,
                    "01000": 0.0001637137360848348,
                    "01001": 0.0017791256333793068,
                    "01010": 0.0004368460993781533,
                    "01011": 0.004747335879273425,
                    "01100": 7.682896782120084e-05,
                    "01101": 0.0008349231366019383,
                    "01110": 3.4421413333312004e-06,
                    "01111": 3.740676882891846e-05,
                    "10000": 0.02543578429008404,
                    "10001": 0.2764181975063183,
                    "10010": 0.026470463230068436,
                    "10011": 0.2876623598378778,
                    "10100": 0.02042708510265376,
                    "10101": 0.2219871807367439,
                    "10110": 0.003737301302503301,
                    "10111": 0.04061435958861738,
                    "11000": 0.0019546125931739324,
                    "11001": 0.02124135366405498,
                    "11010": 0.004083842567586136,
                    "11011": 0.04438032610112237,
                    "11100": 0.0001716509829480762,
                    "11101": 0.0018653820446649985,
                    "11110": 0.00026193605337322033,
                    "11111": 0.0028465366316056733,
                },
                13: {
                    "00000": 0.005874439831551873,
                    "00001": 0.0005405613151681729,
                    "00010": 0.009906598778380484,
                    "00011": 0.0009115973978867171,
                    "00100": 0.0026430357501771528,
                    "00101": 0.00024321006293715497,
                    "00110": 0.002570060669145155,
                    "00111": 0.00023649495359765864,
                    "01000": 0.003298150979878734,
                    "01001": 0.00030349324913171515,
                    "01010": 0.007327912021525097,
                    "01011": 0.0006743086785086404,
                    "01100": 0.0005554126069688723,
                    "01101": 5.1108629570346945e-05,
                    "01110": 0.0008842554431868101,
                    "01111": 8.136848772309312e-05,
                    "10000": 0.4013953223627536,
                    "10001": 0.036936080644380774,
                    "10010": 0.2835423139809168,
                    "10011": 0.02609133986327013,
                    "10100": 0.08960339750248288,
                    "10101": 0.008245233892315337,
                    "10110": 0.0027747266700773876,
                    "10111": 0.00025532815741054237,
                    "11000": 0.02392752308270036,
                    "11001": 0.0022017917822275855,
                    "11010": 0.07514859596136035,
                    "11011": 0.006915114467209234,
                    "11100": 0.0012324043837630375,
                    "11101": 0.00011340487835586168,
                    "11110": 0.0050506561264037,
                    "11111": 0.0004647573890342704,
                },
                14: {
                    "00000": 0.0022596447154439284,
                    "00001": 0.0024663218532069288,
                    "00010": 0.0063388765786962925,
                    "00011": 0.0019264107869769874,
                    "00100": 0.0008463020948884805,
                    "00101": 0.0014827210962949685,
                    "00110": 0.0018832336390305288,
                    "00111": 0.000440491316835166,
                    "01000": 0.0011171005149795714,
                    "01001": 0.001655141284257723,
                    "01010": 0.0047239119536628465,
                    "01011": 0.001869289385679812,
                    "01100": 0.0005223017765645755,
                    "01101": 0.000236834893916604,
                    "01110": 0.0004792701594616004,
                    "01111": 2.3966261074476444e-05,
                    "10000": 0.1268641353172033,
                    "10001": 0.24322855708456495,
                    "10010": 0.2138666575259624,
                    "10011": 0.09801658093010424,
                    "10100": 0.07774182485678814,
                    "10101": 0.09238962376030975,
                    "10110": 0.0008090085776955818,
                    "10111": 0.022881849281608715,
                    "11000": 0.015904459046787518,
                    "11001": 0.008758181514290895,
                    "11010": 0.042676396393767545,
                    "11011": 0.0225875431548715,
                    "11100": 0.0005969791944667615,
                    "11101": 0.0010944419503992231,
                    "11110": 0.0033698976546007167,
                    "11111": 0.0009420454456077111,
                },
                15: {
                    "00000": 0.0021408160528990417,
                    "00001": 0.0025851505157518193,
                    "00010": 0.003334462793455346,
                    "00011": 0.0049308245722179305,
                    "00100": 0.001699903849309159,
                    "00101": 0.000629119341874285,
                    "00110": 0.0010053685272957327,
                    "00111": 0.0013183564285699615,
                    "01000": 0.001326997848928253,
                    "01001": 0.001445243950309041,
                    "01010": 0.00230345785506072,
                    "01011": 0.004289743484281941,
                    "01100": 0.0003288163383232511,
                    "01101": 0.0004303203321579292,
                    "01110": 0.00040155152336725946,
                    "01111": 0.00010168489716881798,
                    "10000": 0.2655562943574186,
                    "10001": 0.10453639804434975,
                    "10010": 0.09143780250346921,
                    "10011": 0.22044543595259727,
                    "10100": 0.09126215325687408,
                    "10101": 0.07886929536022387,
                    "10110": 0.0053493735178756,
                    "10111": 0.018341484341428693,
                    "11000": 0.0067776799315812306,
                    "11001": 0.017884960629497196,
                    "11010": 0.022367151144175274,
                    "11011": 0.04289678840446375,
                    "11100": 0.0011498091466215377,
                    "11101": 0.0005416119982444504,
                    "11110": 0.0035583613533454127,
                    "11111": 0.0007535817468630164,
                },
            },
        },
        "cuts": {
            "max_subcircuit_width": 5,
            "subcircuits": [
                'OPENQASM 2.0;\ninclude "qelib1.inc";\nqreg q[5];\nry(0.0) q[0];\nry(pi/16) q[1];\ncx q[0],q[1];\nry(pi/2) q[0];\nry(pi/8) q[2];\ncx q[1],q[2];\nry(9*pi/16) q[1];\ncx q[0],q[1];\nry(pi) q[0];\nry(3*pi/16) q[3];\ncx q[2],q[3];\nry(5*pi/8) q[2];\ncx q[1],q[2];\nry(3.33794219443916) q[1];\nry(pi/4) q[4];\ncx q[3],q[4];\nry(11*pi/16) q[3];\ncx q[2],q[3];\nry(9*pi/8) q[2];\n',
                'OPENQASM 2.0;\ninclude "qelib1.inc";\nqreg q[5];\nry(5*pi/16) q[2];\ncx q[1],q[2];\nry(3*pi/4) q[1];\ncx q[0],q[1];\nry(3.73064127613788) q[0];\nry(3*pi/8) q[3];\ncx q[2],q[3];\nry(13*pi/16) q[2];\ncx q[1],q[2];\nry(5*pi/4) q[1];\nry(7*pi/16) q[4];\ncx q[3],q[4];\nry(7*pi/8) q[3];\ncx q[2],q[3];\nry(4.1233403578366) q[2];\nry(15*pi/16) q[4];\ncx q[3],q[4];\nry(11*pi/8) q[3];\nry(4.51603943953533) q[4];\n',
            ],
            "complete_path_map": '{"json://{\\"py/object\\": \\"qiskit.circuit.quantumregister.Qubit\\", \\"_register\\": {\\"py/object\\": \\"qiskit.circuit.quantumregister.QuantumRegister\\", \\"py/state\\": {\\"py/tuple\\": [\\"q\\", 8, 1766764903106774880, \\"QuantumRegister(8, \'q\')\\", [{\\"py/id\\": 1}, {\\"py/object\\": \\"qiskit.circuit.quantumregister.Qubit\\", \\"_register\\": {\\"py/id\\": 2}, \\"_index\\": 1, \\"_hash\\": 4706609062556836265, \\"_repr\\": \\"Qubit(QuantumRegister(8, \'q\'), 1)\\"}, {\\"py/object\\": \\"qiskit.circuit.quantumregister.Qubit\\", \\"_register\\": {\\"py/id\\": 2}, \\"_index\\": 2, \\"_hash\\": 6815892435674466562, \\"_repr\\": \\"Qubit(QuantumRegister(8, \'q\'), 2)\\"}, {\\"py/object\\": \\"qiskit.circuit.quantumregister.Qubit\\", \\"_register\\": {\\"py/id\\": 2}, \\"_index\\": 3, \\"_hash\\": 1922818406701770196, \\"_repr\\": \\"Qubit(QuantumRegister(8, \'q\'), 3)\\"}, {\\"py/object\\": \\"qiskit.circuit.quantumregister.Qubit\\", \\"_register\\": {\\"py/id\\": 2}, \\"_index\\": 4, \\"_hash\\": 8430459162803768621, \\"_repr\\": \\"Qubit(QuantumRegister(8, \'q\'), 4)\\"}, {\\"py/object\\": \\"qiskit.circuit.quantumregister.Qubit\\", \\"_register\\": {\\"py/id\\": 2}, \\"_index\\": 5, \\"_hash\\": -3508644154803784570, \\"_repr\\": \\"Qubit(QuantumRegister(8, \'q\'), 5)\\"}, {\\"py/object\\": \\"qiskit.circuit.quantumregister.Qubit\\", \\"_register\\": {\\"py/id\\": 2}, \\"_index\\": 6, \\"_hash\\": 5646668506948702552, \\"_repr\\": \\"Qubit(QuantumRegister(8, \'q\'), 6)\\"}, {\\"py/object\\": \\"qiskit.circuit.quantumregister.Qubit\\", \\"_register\\": {\\"py/id\\": 2}, \\"_index\\": 7, \\"_hash\\": -6292434810658850639, \\"_repr\\": \\"Qubit(QuantumRegister(8, \'q\'), 7)\\"}]]}}, \\"_index\\": 0, \\"_hash\\": -8847060982180018985, \\"_repr\\": \\"Qubit(QuantumRegister(8, \'q\'), 0)\\"}": [{"subcircuit_idx": 0, "subcircuit_qubit": {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/object": "qiskit.circuit.quantumregister.QuantumRegister", "py/state": {"py/tuple": ["q", 5, -1957085197140157476, "QuantumRegister(5, \'q\')", [{"py/id": 13}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 14}, "_index": 1, "_hash": -537146830593962625, "_repr": "Qubit(QuantumRegister(5, \'q\'), 1)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 14}, "_index": 2, "_hash": 8618165831158524497, "_repr": "Qubit(QuantumRegister(5, \'q\'), 2)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 14}, "_index": 3, "_hash": -3320937486449028694, "_repr": "Qubit(QuantumRegister(5, \'q\'), 3)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 14}, "_index": 4, "_hash": 3186703269652969731, "_repr": "Qubit(QuantumRegister(5, \'q\'), 4)"}]]}}, "_index": 0, "_hash": -7044787586695961050, "_repr": "Qubit(QuantumRegister(5, \'q\'), 0)"}}], "json://{\\"py/id\\": 4}": [{"subcircuit_idx": 0, "subcircuit_qubit": {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/object": "qiskit.circuit.quantumregister.QuantumRegister", "py/state": {"py/tuple": ["q", 5, -1957085197140157476, "QuantumRegister(5, \'q\')", [{"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 23}, "_index": 0, "_hash": -7044787586695961050, "_repr": "Qubit(QuantumRegister(5, \'q\'), 0)"}, {"py/id": 22}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 23}, "_index": 2, "_hash": 8618165831158524497, "_repr": "Qubit(QuantumRegister(5, \'q\'), 2)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 23}, "_index": 3, "_hash": -3320937486449028694, "_repr": "Qubit(QuantumRegister(5, \'q\'), 3)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 23}, "_index": 4, "_hash": 3186703269652969731, "_repr": "Qubit(QuantumRegister(5, \'q\'), 4)"}]]}}, "_index": 1, "_hash": -537146830593962625, "_repr": "Qubit(QuantumRegister(5, \'q\'), 1)"}}], "json://{\\"py/id\\": 5}": [{"subcircuit_idx": 0, "subcircuit_qubit": {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/object": "qiskit.circuit.quantumregister.QuantumRegister", "py/state": {"py/tuple": ["q", 5, -1957085197140157476, "QuantumRegister(5, \'q\')", [{"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 32}, "_index": 0, "_hash": -7044787586695961050, "_repr": "Qubit(QuantumRegister(5, \'q\'), 0)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 32}, "_index": 1, "_hash": -537146830593962625, "_repr": "Qubit(QuantumRegister(5, \'q\'), 1)"}, {"py/id": 31}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 32}, "_index": 3, "_hash": -3320937486449028694, "_repr": "Qubit(QuantumRegister(5, \'q\'), 3)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 32}, "_index": 4, "_hash": 3186703269652969731, "_repr": "Qubit(QuantumRegister(5, \'q\'), 4)"}]]}}, "_index": 2, "_hash": 8618165831158524497, "_repr": "Qubit(QuantumRegister(5, \'q\'), 2)"}}], "json://{\\"py/id\\": 6}": [{"subcircuit_idx": 0, "subcircuit_qubit": {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/object": "qiskit.circuit.quantumregister.QuantumRegister", "py/state": {"py/tuple": ["q", 5, -1957085197140157476, "QuantumRegister(5, \'q\')", [{"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 41}, "_index": 0, "_hash": -7044787586695961050, "_repr": "Qubit(QuantumRegister(5, \'q\'), 0)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 41}, "_index": 1, "_hash": -537146830593962625, "_repr": "Qubit(QuantumRegister(5, \'q\'), 1)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 41}, "_index": 2, "_hash": 8618165831158524497, "_repr": "Qubit(QuantumRegister(5, \'q\'), 2)"}, {"py/id": 40}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 41}, "_index": 4, "_hash": 3186703269652969731, "_repr": "Qubit(QuantumRegister(5, \'q\'), 4)"}]]}}, "_index": 3, "_hash": -3320937486449028694, "_repr": "Qubit(QuantumRegister(5, \'q\'), 3)"}}, {"subcircuit_idx": 1, "subcircuit_qubit": {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/object": "qiskit.circuit.quantumregister.QuantumRegister", "py/state": {"py/tuple": ["q", 5, -1957085197140157476, "QuantumRegister(5, \'q\')", [{"py/id": 48}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 49}, "_index": 1, "_hash": -537146830593962625, "_repr": "Qubit(QuantumRegister(5, \'q\'), 1)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 49}, "_index": 2, "_hash": 8618165831158524497, "_repr": "Qubit(QuantumRegister(5, \'q\'), 2)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 49}, "_index": 3, "_hash": -3320937486449028694, "_repr": "Qubit(QuantumRegister(5, \'q\'), 3)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 49}, "_index": 4, "_hash": 3186703269652969731, "_repr": "Qubit(QuantumRegister(5, \'q\'), 4)"}]]}}, "_index": 0, "_hash": -7044787586695961050, "_repr": "Qubit(QuantumRegister(5, \'q\'), 0)"}}], "json://{\\"py/id\\": 7}": [{"subcircuit_idx": 0, "subcircuit_qubit": {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/object": "qiskit.circuit.quantumregister.QuantumRegister", "py/state": {"py/tuple": ["q", 5, -1957085197140157476, "QuantumRegister(5, \'q\')", [{"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 58}, "_index": 0, "_hash": -7044787586695961050, "_repr": "Qubit(QuantumRegister(5, \'q\'), 0)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 58}, "_index": 1, "_hash": -537146830593962625, "_repr": "Qubit(QuantumRegister(5, \'q\'), 1)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 58}, "_index": 2, "_hash": 8618165831158524497, "_repr": "Qubit(QuantumRegister(5, \'q\'), 2)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 58}, "_index": 3, "_hash": -3320937486449028694, "_repr": "Qubit(QuantumRegister(5, \'q\'), 3)"}, {"py/id": 57}]]}}, "_index": 4, "_hash": 3186703269652969731, "_repr": "Qubit(QuantumRegister(5, \'q\'), 4)"}}, {"subcircuit_idx": 1, "subcircuit_qubit": {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/object": "qiskit.circuit.quantumregister.QuantumRegister", "py/state": {"py/tuple": ["q", 5, -1957085197140157476, "QuantumRegister(5, \'q\')", [{"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 66}, "_index": 0, "_hash": -7044787586695961050, "_repr": "Qubit(QuantumRegister(5, \'q\'), 0)"}, {"py/id": 65}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 66}, "_index": 2, "_hash": 8618165831158524497, "_repr": "Qubit(QuantumRegister(5, \'q\'), 2)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 66}, "_index": 3, "_hash": -3320937486449028694, "_repr": "Qubit(QuantumRegister(5, \'q\'), 3)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 66}, "_index": 4, "_hash": 3186703269652969731, "_repr": "Qubit(QuantumRegister(5, \'q\'), 4)"}]]}}, "_index": 1, "_hash": -537146830593962625, "_repr": "Qubit(QuantumRegister(5, \'q\'), 1)"}}], "json://{\\"py/id\\": 8}": [{"subcircuit_idx": 1, "subcircuit_qubit": {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/object": "qiskit.circuit.quantumregister.QuantumRegister", "py/state": {"py/tuple": ["q", 5, -1957085197140157476, "QuantumRegister(5, \'q\')", [{"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 75}, "_index": 0, "_hash": -7044787586695961050, "_repr": "Qubit(QuantumRegister(5, \'q\'), 0)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 75}, "_index": 1, "_hash": -537146830593962625, "_repr": "Qubit(QuantumRegister(5, \'q\'), 1)"}, {"py/id": 74}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 75}, "_index": 3, "_hash": -3320937486449028694, "_repr": "Qubit(QuantumRegister(5, \'q\'), 3)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 75}, "_index": 4, "_hash": 3186703269652969731, "_repr": "Qubit(QuantumRegister(5, \'q\'), 4)"}]]}}, "_index": 2, "_hash": 8618165831158524497, "_repr": "Qubit(QuantumRegister(5, \'q\'), 2)"}}], "json://{\\"py/id\\": 9}": [{"subcircuit_idx": 1, "subcircuit_qubit": {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/object": "qiskit.circuit.quantumregister.QuantumRegister", "py/state": {"py/tuple": ["q", 5, -1957085197140157476, "QuantumRegister(5, \'q\')", [{"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 84}, "_index": 0, "_hash": -7044787586695961050, "_repr": "Qubit(QuantumRegister(5, \'q\'), 0)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 84}, "_index": 1, "_hash": -537146830593962625, "_repr": "Qubit(QuantumRegister(5, \'q\'), 1)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 84}, "_index": 2, "_hash": 8618165831158524497, "_repr": "Qubit(QuantumRegister(5, \'q\'), 2)"}, {"py/id": 83}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 84}, "_index": 4, "_hash": 3186703269652969731, "_repr": "Qubit(QuantumRegister(5, \'q\'), 4)"}]]}}, "_index": 3, "_hash": -3320937486449028694, "_repr": "Qubit(QuantumRegister(5, \'q\'), 3)"}}], "json://{\\"py/id\\": 10}": [{"subcircuit_idx": 1, "subcircuit_qubit": {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/object": "qiskit.circuit.quantumregister.QuantumRegister", "py/state": {"py/tuple": ["q", 5, -1957085197140157476, "QuantumRegister(5, \'q\')", [{"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 93}, "_index": 0, "_hash": -7044787586695961050, "_repr": "Qubit(QuantumRegister(5, \'q\'), 0)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 93}, "_index": 1, "_hash": -537146830593962625, "_repr": "Qubit(QuantumRegister(5, \'q\'), 1)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 93}, "_index": 2, "_hash": 8618165831158524497, "_repr": "Qubit(QuantumRegister(5, \'q\'), 2)"}, {"py/object": "qiskit.circuit.quantumregister.Qubit", "_register": {"py/id": 93}, "_index": 3, "_hash": -3320937486449028694, "_repr": "Qubit(QuantumRegister(5, \'q\'), 3)"}, {"py/id": 92}]]}}, "_index": 4, "_hash": 3186703269652969731, "_repr": "Qubit(QuantumRegister(5, \'q\'), 4)"}}]}',
            "num_cuts": 2,
            "counter": {
                0: {"effective": 3, "rho": 0, "O": 2, "d": 5, "depth": 8, "size": 19},
                1: {"effective": 5, "rho": 2, "O": 0, "d": 5, "depth": 8, "size": 19},
            },
            "classical_cost": 4096,
        },
    },
)
@blp.response(200, CombineResultsResponseQuokkaSchema)
def combine_results_quokka(json: dict):
    """Execute a given quantum circuit on a specified quantum computer."""
    print("request combinequokka", json)
    return circuit_cutter.reconstruct_result(
        CombineResultsRequest(**json), quokka_format=True
    )
